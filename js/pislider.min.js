/*
 *  simple gallery with jQuery
 *	made by owenhong 2013-08-08
 *	作者：小欧(laohonghzy@qq.com) 2013-08-08
 *  http://www.520ued.com
 */
(function(e){e.fn.pislider=function(t){function c(){return l.is(":animated")?!1:!0}function p(e,n){s.find("a").eq(e).addClass("cur").siblings().removeClass("cur"),i.eq(e).show().css({left:n+"px"}),l.animate({left:-n+"px"},t.scrollTime,function(){i.eq(e).css({left:u+"px"}).siblings().hide(),l.css({left:-u+"px"})})}var n={child:"child",triggers:"triggers",scrollTime:500,autoScroll:"true",autoTime:4e3},t=e.extend(n,t),r=e(this),i=r.find("."+t.child),s=e("#"+t.triggers),o=i.length-1;i.wrapAll("<div id=scroll_wrapper></div>");var u=i.width(),a=u*2,f=u*3,l=e("#scroll_wrapper");l.css({width:f+"px",left:-u+"px"}),i.not(":first").hide(),i.each(function(e){e==0?s.append("<a href='javascript:;' class='cur'></a>"):s.append("<a href='javascript:;'></a>")});var h=s.find("a.cur");s.find("a").click(function(){var t=e(this).index(),n=s.find("a.cur").index();if(c())if(t>n)p(t,a);else{if(!(t<n))return!1;p(t,"0")}return!1}),e("#btn_prev").click(function(){var e=s.find("a.cur").index();return c()&&(e==0?p(o,"0"):s.find("a.cur").prev("a").trigger("click")),!1}),e("#btn_next").click(function(){var e=s.find("a.cur").index();return c()&&(e==o?p("0",a):s.find("a.cur").next("a").trigger("click")),!1}),t.autoScroll=="true"&&i.length!=1&&(autoScroll=setInterval(function(){e("#btn_next").trigger("click")},t.autoTime),autoPlay=function(){autoScroll=setInterval(function(){e("#btn_next").trigger("click")},t.autoTime)},stopPlay=function(){clearInterval(autoScroll)},r.hover(stopPlay,autoPlay),e("#btn_prev,#btn_next").hover(stopPlay,autoPlay))}})(jQuery)